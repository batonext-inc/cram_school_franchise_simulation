# 塾のフランチャイズオーナーになろう！

フランチャイズ塾のオーナーとなり、X1年4月からX6年3月までの60ヶ月を運営して全校舎の合計生徒数を最大化するシミュレーションゲームです。HTML/CSS/JavaScript（Canvas 2D）のみで完結し、ブラウザ（ローカルサーバー）だけで遊べます。

## ディレクトリ構成

- `index.html`: 画面レイアウトとエントリポイント。
- `style.css`: UI全体のスタイル定義。
- `main.js`: シミュレーションとUIの初期化。
- `js/`
  - `simulation.js`: 月次進行や新規開校、広告制御などゲームロジック。
  - `ui.js`: 会話ガイド、ダッシュボード、モーダル、セーブ/ロードUI制御。
  - `canvasGraph.js`: 収支推移グラフ（Canvas 2D）。
  - `player.js`, `campus.js`, `teacher.js`, `classroom.js`: 状態管理クラス。
- `data/`
  - `campuses.json`: 校舎の固定データ。
  - `initialTeachers.json`: 先生プールの初期データ。
- `assets/`: タイトル用ヒーロー画像、校舎サムネイル、先生アイコンなどのアートリソース。

## 現状の主な機能

- **タイトル画面**: ヒーロービジュアル＋「新しく始める」「続きから始める」「ルール説明を見る」の導線。セーブデータが無い場合は続きボタンを自動無効化。
- **会話型オンボーディング**: プレイヤー名／塾名（接頭辞＋接尾辞）／初校舎／初任教師をエージェントとの会話で決定。
- **初回セットアップ**: 商圏内生徒数から初期生徒を自動割当し、必要なクラス・先生を確保。開校費用は資金から自動控除。
- **月次シミュレーション**: 売上、家賃、給与、広告費、ロイヤリティ、満足度、ランダム揺らぎを踏まえて資金と生徒数を更新。年度末の新規入塾数も自動算出。
- **ダッシュボード**: 校舎タブで生徒数/満足度/広告状態/受入余裕を確認し、右上HUDでは年月・資金残高（万円表示）・総生徒数・平均満足度を常時表示。
- **広告管理**: 校舎ごとに広告プラン（広告なし/チラシ配り/新聞広告/中吊り）を設定し、駅乗降客数を係数として翌月から効果反映。
- **新規開校**: 八王子／千葉／大宮／川崎／中野／秋葉原／新宿／東京の8拠点から未開校キャンパスを追加可能。資金不足の拠点には「資金不足」バッジを表示し選択不可。
- **先生不足イベント**: 生徒数が受入上限を超えた場合は採用モーダルが開き、先生配備を済ませるまで月次進行を停止。
- **収支可視化**: 過去12ヶ月の売上/コスト推移をCanvasグラフで表示し、月次サマリーおよび最終リザルトモーダルで詳細を確認可能。
- **セーブ/ロード**: localStorage を用いた3スロット（A/B/C）管理。セーブ時は上書き確認モーダルを表示し、ロードはタイトル/管理画面どちらからでも実行可能。
- **結果のシェア**: 最終結果モーダルからX共有ボタンで intent/tweet を開き、プレイ実績をSNSに投稿可能。

## 今後の拡張アイデア

- 広告レベルの段階制や期間限定キャンペーン
- 先生のランクアップ・スキル成長要素
- 校舎専門分野（大学受験特化など）とブランド評価
- Canvasマップによる立地表示・イベント演出
- テスト／自動ビルド環境の整備

## 起動方法

### 推奨環境

- モダンブラウザ（Chrome / Firefox / Safari / Edge 最新版）
- VS Code + Live Server 拡張機能

### Live Server での起動手順（推奨）

1. VS Code に「Live Server」拡張機能をインストール
2. プロジェクト直下（例: `/Users/.../cram_school_franchise_simulation`）で `index.html` を開く
3. `index.html` を右クリックし「Open with Live Server」を選択
4. 既定ポート (例: `http://localhost:5500`) でゲームが起動するので、そのままブラウザで操作

### 代替手段（必要な場合のみ）

Node.js がある場合は、例えば次のように静的サーバーを立ち上げても動作します。

```bash
cd /path/to/cram_school_franchise_simulation
npx serve -p 8000
# もしくは任意の静的サーバーを利用
```

> ※ Python の `http.server` など別ツールでの確認は不要です。Live Server があれば十分に動作確認できます。
